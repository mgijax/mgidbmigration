2|GXD Result Note Search|Searches InSitu Result Notes by note text (via contains search). \r\nSearch is restricted to Immunohistochemistry, In situ reporter (knock-in) and RNA in situ assays. \r\n \r\nCase insensitive.  "%" is wildcard for multiple characters. "?" is wildcard for a single character.  Spaces, alphanumerics, and most "punctuation" characters (except wildcards) are recognized literally as searchable characters.  \r\n \r\nWords are AND'ed together. Word order is enforced. Uses a Contains search on each word, so "respond to" also will return "correspond to". \r\n \r\nSome results are a little unpredictable because browsers will suppress extra spaces in the display that do exist in the data, for example, search for "section.  In" (no quotes, two spaces after the period) and compare to display.|select distinct ac.accid as assay_mgiid,    \n       ac_ref.accid as jnum_id,    \n       gs.specimenlabel,    \n       m.symbol as gene,    \n       gisrs._stage_key as stage,    \n       s.term as structure,    \n       gisr.resultnote    \nfrom GXD_Specimen gs    \n             join GXD_Assay ga on ga._assay_key = gs._assay_key    \n             join ACC_Accession ac on    \n                     ac._object_key = ga._assay_key    \n                     and ac.preferred = 1    \n                     and ac._mgitype_key = 8    \n                     and ac._logicaldb_key = 1    \n             join ACC_Accession ac_ref on    \n                     ac_ref._object_key = ga._refs_key    \n                     and ac_ref.preferred = 1    \n                     and ac_ref._mgitype_key = 1    \n                     and ac_ref.prefixpart = 'J:'    \n                     and ac_ref._logicaldb_key = 1    \n             join MRK_Marker m on m._marker_key = ga._marker_key    \n             join GXD_InSituResult gisr on gisr._specimen_key = gs._specimen_key    \n             join GXD_ISResultStructure gisrs on gisrs._result_key = gisr._result_key    \n             join VOC_Term s on gisrs._emapa_term_key = s._term_key\n            where ga._AssayType_key in (1, 6, 9) and lower(gisr.resultNote) like lower('%###Result Note Text###%')\n            order by gisrs._stage_key, s.term|lec|Connie Smith|2015-02-20 07:44:41.796||||
1|MP Term Genotype and Notes QC|Retrieve all directly annotated genotypes, and any notes for the specified MP Term ID. \nRequested in TR10423.|select accg.accid genotype_id,  accr.accid jnum_id, nc._note_key, nt.notetype, nc.note \n    from voc_annot annot join  \n\tvoc_evidence ev on (ev._annot_key=annot._annot_key) join \n\tacc_accession acct on ( \n\t\tacct._object_key=annot._term_key \n\t\tand acct._mgitype_key=13 \n\t) join \n\tacc_accession accg on ( \n\t\taccg._object_key=annot._object_key \n\t\tand accg._mgitype_key=12 \n\t\tand accg.preferred=1 \n\t\tand accg._logicaldb_key=1 \n\t\tand accg.prefixpart='MGI:' \n\t) join \n\tacc_accession accr on ( \n\t\taccr._object_key=ev._refs_key \n\t\tand accr._mgitype_key=1 \n\t\tand accr.preferred=1 \n\t\tand accr.prefixpart='J:' \n\t) left outer join \n\tmgi_note mn on ( \n\t\tmn._object_key=ev._annotevidence_key \n\t\tand mn._mgitype_key=25 \n\t) left outer join \n\tmgi_notetype nt on ( \n\t\tnt._notetype_key=mn._notetype_key \n\t) left outer join \n\tmgi_notechunk nc on (nc._note_key=mn._note_key) \n \n    where annot._AnnotType_key = 1002  \n\tand acct.accid='###MP Term ID###' \n\t \norder by genotype_id, jnum_id, nc._note_key, nc.sequencenum \n \n<code> \n \n# collapse note chunks into one row \nnew_results = [] \nprev_result = None \nfor r in results: \n\tif prev_result: \n\t\t# if _note_key is not null and is the same as previous result \n\t\t# concat the note chunk \n\t\tif r[2] and prev_result[2]==r[2]: \n\t\t\tprev_result[4] = prev_result[4] or '' \n\t\t\tr[4] = r[4] or '' \n\t\t\tr[4] = prev_result[4] + r[4] \n\t\telse: \n\t\t\tnew_results.append(prev_result) \n\tprev_result = r \n \nif prev_result: \n\tnew_results.append(prev_result) \n \n# remove _note_key column \ncolumns.pop(2) \nresults = [(r[0],r[1],r[3],r[4]) for r in new_results] \n \n</code>|lec|Cindy Smith|2015-02-20 07:43:36.106||||
4|Next Gm Sequence Gene Symbol|Displays the next Gm symbol that is available in the sequence.\r\n\r\nRefresh this page to see the most currently available gene symbol.|select 'Gm' \|\| (max(substring(symbol from 3)::int) + 1) as "Next Gm Symbol"\nfrom mrk_marker where symbol ~ '^Gm[\\d]+$'|lec|Yunixa Sophia Zhu|2015-08-12 11:40:28.943686||||
5|GXD Band Notes for Control Lanes|All the band notes associated with control lanes for gel assays.\r\n\r\nOrdered by assay ID, lane label\r\n\r\n(As of Sep 2, 2015 there were 41 assays with such notes)|select a.accid as assay_id,\r\ngl.lanelabel,\r\ngr.size \|\| ggu.units as gel_row,\r\ngb.bandnote \r\nfrom gxd_gellane gl \r\njoin gxd_gelband gb on \r\n\tgb._gellane_key=gl._gellane_key \r\njoin acc_accession a on\r\n\ta._object_key = gl._assay_key\r\n\tand a._mgitype_key = 8\r\njoin gxd_gelrow gr on\r\n\tgr._gelrow_key = gb._gelrow_key\r\njoin gxd_gelunits ggu on\r\n\tggu._gelunits_key = gr._gelunits_key\r\nwhere gl._gelcontrol_key != 1 \r\nand gb.bandnote is not null \r\norder by a.accid, gl.lanelabel\r\n|lec|Connie Smith|2015-09-02 14:56:37.680209||||
6|Isoform Prefix Counts|Distinct list of prefixes in the "gene product" property value for GO annotations.\r\n\r\nOrdered by prefix|with \r\nprefixes as (\r\n\tselect split_part(value, ':', 1) as prefix,\r\n\t\tvalue\r\n\tfrom voc_evidence_property vep\r\n\tjoin voc_term t on \r\n\t\tt._term_key = vep._propertyterm_key\r\n\twhere t.term = 'gene product'\r\n),\r\ncounts as (\r\n\tselect count(*) as cnt, prefix\r\n\tfrom prefixes\r\n\tgroup by prefix\r\n)\r\n\r\nselect case when p.prefix=p.value then p.prefix\r\n\telse p.prefix \|\| ':'\r\n\tend as prefix, \r\n\tc.cnt as "count", \r\n\tp.value as "example value"\r\nfrom (select *,\r\n\trow_number() over (partition by prefix) as row_num \r\n\tfrom prefixes\r\n\t) p\r\n\tjoin counts c on c.prefix=p.prefix\r\nwhere p.row_num = 1\r\norder by p.prefix\r\n|lec|David Hill|2015-09-28 15:51:03.441642||||
7|MGI Statistics|Display all MGI_Statistic/MGI_StatisticSQL that are seen on the fewi:  \r\nhttp://www.informatics.jax.org/mgihome/homepages/stats/all_stats.shtml|select s.name, ss.sqlchunk, s._statistic_key\r\nfrom MGI_Statistic s, MGI_StatisticSQL  ss  \r\nwhere s._statistic_key = ss._statistic_key\r\norder by s.name, s._statistic_key, ss.sequenceNum\r\n|lec|Meiyee Law|2016-03-15 11:02:38.438354||||
8|Allele Cre Systems (scrumdog test)|Display Allele/EMAPA Term/Cre System/Stage for a test set of Alleles.|select distinct symbol, \r\nemapaterm as expression_term, \r\ncresystemlabel as cre_system, \r\n_stage_key\r\nfrom ALL_Cre_Cache \r\nwhere \r\n(\r\n(\r\nsymbol like 'Lhx1%' \r\nor symbol like 'Cfap126%' \r\nor symbol like 'Krt19%' \r\nor symbol = 'Tg(Ella-cre)C5379Lmgd'\r\nor \r\nsymbol in ('Tg(Emx1-cre)3Ito',\r\n\t   'Tg(Sox2-cre)1Amc', \r\n           'Tg(Cdx1-cre)23Kem', \r\n\t   'Tg(Col2a1-cre)1Asz',\r\n\t   'Tg(Col2a1-cre)1Bhr',\r\n\t   'Tg(EIIa-cre)C5379Lmgd'\r\n\t   )\r\n)\r\nand emapaterm in ('embryo ectoderm', \r\n\t          'embryo endoderm', \r\n\t\t  'mesoderm', \r\n\t\t  'node',\r\n\t\t  'primitive streak', \r\n\t\t  'primitive endoderm',\r\n\t\t  'cartilage',\r\n\t\t  'abdomen',\r\n\t\t  'trunk',\r\n\t\t  'embryo',\r\n\t\t  'epiblast'\r\n\t)\r\n)\r\nor symbol like 'Acan%'\r\norder by symbol, emapaterm, _stage_key|lec|Michelle N Knowlton|2016-03-17 10:12:58.838658||||
10|Lit Triage Relevance : By Group GO|top 200 references that require relevance checking\r\n1) reference status set to 'Not Routed' for all groups\r\n2) reference does not contain tags: MGI:curator\r\n3) reference is not discarded\r\n\r\nGO: 'J Biol Chem','Biochem J'|WITH relevanceSet AS (\r\nselect a.accID, r.journal, 1 as relevance\r\nfrom BIB_Refs r, ACC_Accession a\r\nwhere r.isDiscard = 0\r\nand r._Refs_key = a._Object_key\r\nand a._MGIType_key = 1\r\nand a._LogicalDB_key = 1\r\nand a.prefixPart = 'MGI:'\r\nand r.journal in ('J Biol Chem','Biochem J')\r\n\r\nand exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n        where r._Refs_key = ws._Refs_Key\r\n        and ws._Status_key = wst._Term_key\r\n        and wst.term in ('Not Routed')\r\n        and ws.isCurrent = 1\r\n        group by _Refs_key having count(*) = 5\r\n        )\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) like 'mgi:curator_%')\r\nunion\r\nselect a.accID, r.journal, 2 as relevance\r\nfrom BIB_Refs r, ACC_Accession a\r\nwhere r.isDiscard = 0\r\nand r._Refs_key = a._Object_key\r\nand a._MGIType_key = 1\r\nand a._LogicalDB_key = 1\r\nand a.prefixPart = 'MGI:'\r\nand r.journal not in ('Nat Neurosci','Neurobiol Aging','Neuroscience')\r\nand r.journal not in ('J Biol Chem','Biochem J')\r\nand r.journal not in ('Development','Dev Biol','Dev Dyn','Mech Dev','Genes Dev','Gene Expr Patterns','Dev Cell','BMC Dev Biol')\r\nand r.journal not in ('Cancer Cell','Cancer Discov','Cancer Lett','Cancer Res','Carcinogenesis','Int J Cancer','J Natl Cancer Inst','          Leukemia','Mol Cancer Res','Nat Rev Cancer','Oncogene','Semin Cancer Biol')\r\n\r\nand exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n        where r._Refs_key = ws._Refs_Key\r\n        and ws._Status_key = wst._Term_key\r\n        and wst.term in ('Not Routed')\r\n        and ws.isCurrent = 1\r\n        group by _Refs_key having count(*) = 5\r\n        )\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) like 'mgi:curator_%')\r\norder by relevance, accID\r\nlimit 200\r\n)\r\nselect accID from relevanceSet\r\n;\r\n|lec|Jacqueline Finger|2017-07-24 09:44:25.417631||||
11|Lit Triage Relevance : By Group GXD|top 200 references that require relevance checking\r\n1) reference status set to 'Not Routed' for all groups\r\n2) reference does not contain tags: MGI:curator\r\n3) reference is not discarded\r\n\r\nGXD: 'Development','Dev Biol','Dev Dyn','Mech Dev','Genes Dev','Gene Expr Patterns','Dev Cell','BMC Dev Biol'|WITH relevanceSet AS (\r\nselect a.accID, r.journal, 1 as relevance\r\nfrom BIB_Refs r, ACC_Accession a\r\nwhere r.isDiscard = 0\r\nand r._Refs_key = a._Object_key\r\nand a._MGIType_key = 1\r\nand a._LogicalDB_key = 1\r\nand a.prefixPart = 'MGI:'\r\nand r.journal in ('Development','Dev Biol','Dev Dyn','Mech Dev','Genes Dev','Gene Expr Patterns','Dev Cell','BMC Dev Biol')\r\n\r\nand exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n        where r._Refs_key = ws._Refs_Key\r\n        and ws._Status_key = wst._Term_key\r\n        and wst.term in ('Not Routed')\r\n        and ws.isCurrent = 1\r\n        group by _Refs_key having count(*) = 5\r\n        )\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) like 'mgi:curator_%')\r\nunion\r\nselect a.accID, r.journal, 2 as relevance\r\nfrom BIB_Refs r, ACC_Accession a\r\nwhere r.isDiscard = 0\r\nand r._Refs_key = a._Object_key\r\nand a._MGIType_key = 1\r\nand a._LogicalDB_key = 1\r\nand a.prefixPart = 'MGI:'\r\nand r.journal not in ('Nat Neurosci','Neurobiol Aging','Neuroscience')\r\nand r.journal not in ('J Biol Chem','Biochem J')\r\nand r.journal not in ('Development','Dev Biol','Dev Dyn','Mech Dev','Genes Dev','Gene Expr Patterns','Dev Cell','BMC Dev Biol')\r\nand r.journal not in ('Cancer Cell','Cancer Discov','Cancer Lett','Cancer Res','Carcinogenesis','Int J Cancer','J Natl Cancer Inst','          Leukemia','Mol Cancer Res','Nat Rev Cancer','Oncogene','Semin Cancer Biol')\r\n\r\nand exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n        where r._Refs_key = ws._Refs_Key\r\n        and ws._Status_key = wst._Term_key\r\n        and wst.term in ('Not Routed')\r\n        and ws.isCurrent = 1\r\n        group by _Refs_key having count(*) = 5\r\n        )\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) like 'mgi:curator_%')\r\norder by relevance, accID\r\nlimit 200\r\n)\r\nselect accID from relevanceSet\r\n;|lec|Jacqueline Finger|2017-07-24 09:01:18.74806||||
12|Lit Triage Relevance : By Group Tumor|top 200 references that require relevance checking\r\n1) reference status set to 'Not Routed' for all groups\r\n2) reference does not contain tags: MGI:curator, Tumor:NotSelected\r\n3) reference is not discarded\r\n\r\nTumor: 'Cancer Cell','Cancer Discov','Cancer Lett','Cancer Res','Carcinogenesis','Int J Cancer','J Natl Cancer Inst','Leukemia','Mol Cancer Res','Nat Rev Cancer','Oncogene','Semin Cancer Biol'|WITH relevanceSet AS (\r\nselect a.accID, r.journal, 1 as relevance\r\nfrom BIB_Refs r, ACC_Accession a\r\nwhere r.isDiscard = 0\r\nand r._Refs_key = a._Object_key\r\nand a._MGIType_key = 1\r\nand a._LogicalDB_key = 1\r\nand a.prefixPart = 'MGI:'\r\nand r.journal in ('Cancer Cell','Cancer Discov','Cancer Lett','Cancer Res','Carcinogenesis','Int J Cancer','J Natl Cancer Inst','Leukemia','Mol Cancer Res','Nat Rev Cancer','Oncogene','Semin Cancer Biol')\r\n\r\nand exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n        where r._Refs_key = ws._Refs_Key\r\n        and ws._Status_key = wst._Term_key\r\n        and wst.term in ('Not Routed')\r\n        and ws.isCurrent = 1\r\n        group by _Refs_key having count(*) = 5\r\n        )\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) like 'mgi:curator_%')\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) in ('tumor:notselected')\r\n        )\r\n\r\nunion\r\nselect a.accID, r.journal, 2 as relevance\r\nfrom BIB_Refs r, ACC_Accession a\r\nwhere r.isDiscard = 0\r\nand r._Refs_key = a._Object_key\r\nand a._MGIType_key = 1\r\nand a._LogicalDB_key = 1\r\nand a.prefixPart = 'MGI:'\r\nand r.journal not in ('Nat Neurosci','Neurobiol Aging','Neuroscience')\r\nand r.journal not in ('J Biol Chem','Biochem J')\r\nand r.journal not in ('Development','Dev Biol','Dev Dyn','Mech Dev','Genes Dev','Gene Expr Patterns','Dev Cell','BMC Dev Biol')\r\nand r.journal not in ('Cancer Cell','Cancer Discov','Cancer Lett','Cancer Res','Carcinogenesis','Int J Cancer','J Natl Cancer Inst','          Leukemia','Mol Cancer Res','Nat Rev Cancer','Oncogene','Semin Cancer Biol')\r\n\r\nand exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n        where r._Refs_key = ws._Refs_Key\r\n        and ws._Status_key = wst._Term_key\r\n        and wst.term in ('Not Routed')\r\n        and ws.isCurrent = 1\r\n        group by _Refs_key having count(*) = 5\r\n        )\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) like 'mgi:curator_%')\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) in ('tumor:notselected')\r\n        )\r\n\r\norder by relevance, accID\r\nlimit 200\r\n)\r\nselect accID from relevanceSet\r\n;\r\n|lec|Jacqueline Finger|2017-07-24 09:45:44.194975||||
13|Lit Triage Relevance : Counts : By Group & MGI General|Group count of References:\r\n1) references by Group Journals\r\n\r\n'MGIgeneral' count of all References:\r\n1) journals are not included in Group Journals\r\n\r\nBoth:\r\n1) reference status set to 'Not Routed' for all groups\r\n2) reference does not contain tags: MGI:curator\r\n3) reference is not discarded\r\n\r\nAP: 'Nat Neurosci','Neurobiol Aging','Neuroscience'\r\n\r\nGO: 'J Biol Chem','Biochem J'\r\n\r\nGXD: 'Development','Dev Biol','Dev Dyn','Mech Dev','Genes Dev','Gene Expr Patterns','Dev Cell','BMC Dev Biol'\r\n\r\nTumor: 'Cancer Cell','Cancer Discov','Cancer Lett','Cancer Res','Carcinogenesis','Int J Cancer','J Natl Cancer Inst','Leukemia','Mol Cancer Res','Nat Rev Cancer','Oncogene','Semin Cancer Biol'\r\n|(\r\n        select 'group AP' as grouptag, count(distinct r._Refs_key) as rCount\r\n        from BIB_Refs r\r\n        where r.isDiscard = 0\r\n        and r.journal in ('Nat Neurosci','Neurobiol Aging','Neuroscience')\r\n        and exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n                where r._Refs_key = ws._Refs_Key\r\n                and ws._Status_key = wst._Term_key\r\n                and wst.term in ('Not Routed')\r\n                and ws.isCurrent = 1\r\n                group by _Refs_key having count(*) = 5\r\n                )\r\n        and not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n                where r._Refs_key = wt._Refs_key\r\n                and wt._Tag_key = wtt._Term_key\r\n                and lower(wtt.term) like 'mgi:curator_%'\r\n                )\r\nunion\r\n        select 'group GO' as grouptag, count(distinct r._Refs_key) as rCount\r\n        from BIB_Refs r\r\n        where r.isDiscard = 0\r\n        and r.journal in ('J Biol Chem','Biochem J')\r\n        and exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n                where r._Refs_key = ws._Refs_Key\r\n                and ws._Status_key = wst._Term_key\r\n                and wst.term in ('Not Routed')\r\n                and ws.isCurrent = 1\r\n                group by _Refs_key having count(*) = 5\r\n                )\r\n        and not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n                where r._Refs_key = wt._Refs_key\r\n                and wt._Tag_key = wtt._Term_key\r\n                and lower(wtt.term) like 'mgi:curator_%'\r\n                )\r\nunion\r\n        select 'group GXD' as grouptag, count(distinct r._Refs_key) as rCount\r\n        from BIB_Refs r\r\n        where r.isDiscard = 0\r\n        and r.journal in ('Development','Dev Biol','Dev Dyn','Mech Dev','Genes Dev','Gene Expr Patterns','Dev Cell','BMC Dev Biol')\r\n\r\n        and exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n                where r._Refs_key = ws._Refs_Key\r\n                and ws._Status_key = wst._Term_key\r\n                and wst.term in ('Not Routed')\r\n                and ws.isCurrent = 1\r\n                group by _Refs_key having count(*) = 5\r\n                )\r\n        and not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n                where r._Refs_key = wt._Refs_key\r\n                and wt._Tag_key = wtt._Term_key\r\n                and lower(wtt.term) like 'mgi:curator_%'\r\n                )\r\nunion\r\n        select 'group Tumor' as grouptag, count(distinct r._Refs_key) as rCount\r\n        from BIB_Refs r\r\n        where r.isDiscard = 0\r\n        and r.journal in ('Cancer Cell','Cancer Discov','Cancer Lett','Cancer Res','Carcinogenesis','Int J Cancer','J Natl Cancer Inst','Leukemia','Mol Cancer Res','Nat Rev Cancer','Oncogene','Semin Cancer Biol')\r\n\r\n        and exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n                where r._Refs_key = ws._Refs_Key\r\n                and ws._Status_key = wst._Term_key\r\n                and wst.term in ('Not Routed')\r\n                and ws.isCurrent = 1\r\n                group by _Refs_key having count(*) = 5\r\n                )\r\n\r\n        and not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n                where r._Refs_key = wt._Refs_key\r\n                and wt._Tag_key = wtt._Term_key\r\n                and lower(wtt.term) like 'mgi:curator_%'\r\n                )\r\n        and not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n                where r._Refs_key = wt._Refs_key\r\n                and wt._Tag_key = wtt._Term_key\r\n                and lower(wtt.term) in ('tumor:notselected')\r\n                )\r\n\r\nunion\r\n        select 'MGIgeneral' as grouptag, count(distinct r._Refs_key) as rCount\r\n        from BIB_Refs r\r\n        where r.isDiscard = 0\r\n        and r.journal not in ('Nat Neurosci','Neurobiol Aging','Neuroscience',\r\n        'Development','Dev Biol','Dev Dyn','Mech Dev','Genes Dev','Gene Expr Patterns','Dev Cell','BMC Dev Biol',\r\n        'J Biol Chem','Biochem J',\r\n        'Cancer Cell','Cancer Discov','Cancer Lett','Cancer Res','Carcinogenesis','Int J Cancer','J Natl Cancer Inst','Leukemia','Mol Cancer Res','Nat Rev Cancer','Oncogene','Semin Cancer Biol')\r\n\r\n         and exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n                where r._Refs_key = ws._Refs_Key\r\n                and ws._Status_key = wst._Term_key\r\n                and wst.term in ('Not Routed')\r\n                and ws.isCurrent = 1\r\n                group by _Refs_key having count(*) = 5\r\n                )\r\n        and not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n                where r._Refs_key = wt._Refs_key\r\n                and wt._Tag_key = wtt._Term_key\r\n                and lower(wtt.term) like 'mgi:curator_%'\r\n                )\r\n)\r\norder by grouptag\r\n|lec|Jacqueline Finger|2017-07-24 09:52:14.96625||||
14|Lit Triage : Search Extracted Text|Search Extracted Text\r\nNote:  extracted text is pre-supplementary data\r\n\r\n<A HREF="http://www.theasciicode.com.ar/extended-ascii-code/degree-symbol-ascii-code-248.html">http://www.theasciicode.com.ar/extended-ascii-code/degree-symbol-ascii-code-248.html</A>|select r.pubmedID, d.extractedText\r\nfrom BIB_Citation_Cache r, BIB_Workflow_Data d\r\nwhere r._Refs_key = d._Refs_key\r\nand lower(d.extractedText) like lower('%###Extracted Text###%')|lec|Jacqueline Finger|2017-08-03 14:25:26.285469||||
3|MP Term and Child Annotations|Retrieve all annotated genotypes, and any notes for the specified MP Term ID, \r\n or any of its children. \r\n \r\nOrdered by allelepairs, genotype_id, annotatedTerm, jnum, _note_key|select accg.accid genotype_id,   \r\n\tmngc.note as allelepairs, \r\n\tstrain.strain as geneticBackground, \r\n\taccr.accid jnum_id,  \r\n\tt.term as annotatedTerm, \r\n\tacc_term.accid annotatedTermId, \r\n\tnc._note_key,  \r\n\tnt.notetype as type, \r\n\tnc.note \r\n    from voc_annot annot \r\n\tjoin  \r\n\tvoc_evidence ev on ( \r\n\t\tev._annot_key=annot._annot_key \r\n\t) join \r\n\tacc_accession accg on ( \r\n\t\taccg._object_key=annot._object_key \r\n\t\tand accg._mgitype_key=12 \r\n\t\tand accg.preferred=1 \r\n\t\tand accg._logicaldb_key=1 \r\n\t\tand accg.prefixpart='MGI:' \r\n\t) join \r\n\tgxd_genotype g on ( \r\n\t\tg._genotype_key = annot._object_key \r\n\t) join \r\n\tprb_strain strain on ( \r\n\t\tstrain._strain_key = g._strain_key \r\n\t) join \r\n\tmgi_note mng on ( \r\n\t\tmng._object_key=annot._object_key \r\n\t\tand mng._mgitype_key=12 \r\n\t\tand mng._notetype_key=1016 \r\n\t) join \r\n\tmgi_notechunk mngc on ( \r\n\t\tmngc._note_key=mng._note_key \r\n\t) \r\n\tjoin voc_term t on ( \r\n\t\tt._term_key=annot._term_key \r\n\t) join \r\n\tacc_accession acc_term on ( \r\n\t\tacc_term._object_key=t._term_key \r\n\t\tand acc_term.preferred=1 \r\n\t\tand acc_term._mgitype_key=13 \r\n\t) join \r\n\tacc_accession accr on ( \r\n\t\taccr._object_key=ev._refs_key \r\n\t\tand accr._mgitype_key=1 \r\n\t\tand accr.preferred=1 \r\n\t\tand accr.prefixpart='J:' \r\n\t) left outer join \r\n\tmgi_note mn on ( \r\n\t\tmn._object_key=ev._annotevidence_key \r\n\t\tand mn._mgitype_key=25 \r\n\t) left outer join \r\n\tmgi_notetype nt on ( \r\n\t\tnt._notetype_key=mn._notetype_key \r\n\t) left outer join \r\n\tmgi_notechunk nc on ( \r\n\t\tnc._note_key=mn._note_key \r\n\t)  \r\nwhere annot._annottype_key = 1002 \r\n\tand ( \r\n\t\tacc_term.accid='###MP Term ID###' \r\n\t\tOR exists( \r\n\t\tselect 1 \r\n\t\tfrom acc_accession a join \r\n\t\tdag_closure dc on ( \r\n\t\t\ta._object_key=dc._ancestorobject_key \r\n\t\t\tand dc._mgitype_key=13 \r\n\t\t)\t \r\n\t\twhere a.accid='###MP Term ID###' \r\n\t\t\tand a._mgitype_key=13 \r\n\t\t\tand dc._descendentobject_key=annot._term_key \r\n\t\t) \r\n\t) \r\n\t \r\norder by allelepairs, genotype_id, annotatedTerm, jnum_id, nc._note_key, nc.sequencenum \r\n \r\n<code> \r\n \r\n# collapse note chunks into one row \r\nnew_results = [] \r\nprev_result = None \r\nfor r in results: \r\n\tif prev_result: \r\n\t\t# if _note_key is not null and is the same as previous result \r\n\t\t# concat the note chunk \r\n\t\tif r[6] and prev_result[6]==r[6]: \r\n\t\t\tprev_result[8] = prev_result[8] or '' \r\n\t\t\tr[8] = r[8] or '' \r\n\t\t\tr[8] = prev_result[8] + r[8] \r\n\t\telse: \r\n\t\t\tnew_results.append(prev_result) \r\n\tprev_result = r \r\n \r\nif prev_result: \r\n\tnew_results.append(prev_result) \r\n \r\n# remove _note_key column \r\ncolumns.pop(6) \r\n[r.pop(6) for r in new_results] \r\n \r\nresults = new_results \r\n \r\n</code>|lec|Anna Anagnostopoulos|2015-03-03 09:25:37.823||||
9|Lit Triage Relevance : By Group AP|top 200 references that require relevance checking\r\n1) reference status set to 'Not Routed' for all groups\r\n2) reference does not contain tags: MGI:curator\r\n3) reference is not discarded\r\n\r\nAP: 'Nat Neurosci','Neurobiol Aging','Neuroscience'|WITH relevanceSet AS (\r\nselect a.accID, r.journal, 1 as relevance\r\nfrom BIB_Refs r, ACC_Accession a\r\nwhere r.isDiscard = 0\r\nand r._Refs_key = a._Object_key\r\nand a._MGIType_key = 1\r\nand a._LogicalDB_key = 1\r\nand a.prefixPart = 'MGI:'\r\nand r.journal in ('Nat Neurosci','Neurobiol Aging','Neuroscience')\r\n\r\nand exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n        where r._Refs_key = ws._Refs_Key\r\n        and ws._Status_key = wst._Term_key\r\n        and wst.term in ('Not Routed')\r\n        and ws.isCurrent = 1\r\n        group by _Refs_key having count(*) = 5\r\n        )\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) like 'mgi:curator_%')\r\nunion\r\nselect a.accID, r.journal, 2 as relevance\r\nfrom BIB_Refs r, ACC_Accession a\r\nwhere r.isDiscard = 0\r\nand r._Refs_key = a._Object_key\r\nand a._MGIType_key = 1\r\nand a._LogicalDB_key = 1\r\nand a.prefixPart = 'MGI:'\r\nand r.journal not in ('Nat Neurosci','Neurobiol Aging','Neuroscience')\r\nand r.journal not in ('J Biol Chem','Biochem J')\r\nand r.journal not in ('Development','Dev Biol','Dev Dyn','Mech Dev','Genes Dev','Gene Expr Patterns','Dev Cell','BMC Dev Biol')\r\nand r.journal not in ('Cancer Cell','Cancer Discov','Cancer Lett','Cancer Res','Carcinogenesis','Int J Cancer','J Natl Cancer Inst','          Leukemia','Mol Cancer Res','Nat Rev Cancer','Oncogene','Semin Cancer Biol')\r\n\r\nand exists (select ws._Refs_key from BIB_Workflow_Status ws, VOC_Term wst\r\n        where r._Refs_key = ws._Refs_Key\r\n        and ws._Status_key = wst._Term_key\r\n        and wst.term in ('Not Routed')\r\n        and ws.isCurrent = 1\r\n        group by _Refs_key having count(*) = 5\r\n        )\r\n\r\nand not exists (select 1 from BIB_Workflow_Tag wt, VOC_Term wtt\r\n        where r._Refs_key = wt._Refs_key\r\n        and wt._Tag_key = wtt._Term_key\r\n        and lower(wtt.term) like 'mgi:curator_%')\r\norder by relevance, accID\r\nlimit 200\r\n)\r\nselect accID from relevanceSet\r\n;\r\n|lec|Jacqueline Finger|2017-07-24 09:41:07.459833||||
16|Lit Triage secondary-triage : GXD|References where:\r\n. has J#\r\n. is not Discard\r\n. group = GXD\r\n. status = Not Routed\r\n. extracted text like '%embryo%'\r\n. supplemental in:\r\n  'Db supplement not found'\r\n  'Supplement attached'\r\n  'No supplemental data'\r\n  'Supplement issues'\r\n  'Curator found supplement'|select r.jnumID\r\nfrom BIB_Citation_Cache r, BIB_Workflow_Status s, BIB_Workflow_Data d\r\nwhere r.isDiscard = 0\r\nand r.jnumID is not null\r\nand r._Refs_key = s._Refs_key\r\nand s.isCurrent = 1\r\nand s._Group_key = 31576666\r\nand s._Status_key = 31576669\r\nand r._Refs_key = d._Refs_key\r\nand d.extractedText like '%embryo%'\r\nand d._Supplemental_key in (31576676,34026997,34026998,34026999,34027000)\r\norder by r.jnumID|lec|Jacqueline Finger|2017-09-11 13:42:14.444398||||
17|Lit Triage secondary-triage  : Tumor |References where:\r\n. is not Discard\r\n. group = Tumor\r\n. status = Not Routed\r\n. tag is not Tumor:NotSelected\r\n. extracted text like\r\n%tumo%\r\n%inoma%\r\n%adenoma%\r\n%sarcoma%\r\n%lymphoma%\r\n%neoplas%\r\n%gioma%\r\n%papilloma%\r\n%leukemia%\r\n%leukaemia%\r\n%ocytoma%\r\n%thelioma%\r\n%blastoma%\r\n%hepatoma%\r\n%melanoma%\r\n%lipoma%\r\n%myoma%\r\n%acanthoma%\r\n%fibroma%\r\n%teratoma%\r\n%glioma%\r\n%thymoma%|select r.mgiID\r\nfrom BIB_Citation_Cache r, BIB_Workflow_Status s, BIB_Workflow_Data d, \r\n     BIB_Workflow_Tag tt\r\nwhere r.isDiscard = 0\r\nand r._Refs_key = s._Refs_key\r\nand s.isCurrent = 1\r\nand s._Group_key = 31576667\r\nand s._Status_key = 31576669\r\nand r._Refs_key = d._Refs_key\r\nand d._Supplemental_key in (31576676,34026997,34026998,34026999,34027000)\r\nand r._Refs_key = tt._Refs_key\r\nand tt._Tag_key not in (32970313)\r\nand (\r\nlower(d.extractedText) like lower('%tumo%')\r\nor lower(d.extractedText) like lower('%%inoma%')\r\nor lower(d.extractedText) like lower('%adenoma%')\r\nor lower(d.extractedText) like lower('%sarcoma%')\r\nor lower(d.extractedText) like lower('%lymphoma%')\r\nor lower(d.extractedText) like lower('%neoplas%')\r\nor lower(d.extractedText) like lower('%gioma%')\r\nor lower(d.extractedText) like lower('%papilloma%')\r\nor lower(d.extractedText) like lower('%leukemia%')\r\nor lower(d.extractedText) like lower('%leukaemia%')\r\nor lower(d.extractedText) like lower('%ocytoma%')\r\nor lower(d.extractedText) like lower('%thelioma%')\r\nor lower(d.extractedText) like lower('%blastoma%')\r\nor lower(d.extractedText) like lower('%hepatoma%')\r\nor lower(d.extractedText) like lower('%melanoma%')\r\nor lower(d.extractedText) like lower('%lipoma%')\r\nor lower(d.extractedText) like lower('%myoma%')\r\nor lower(d.extractedText) like lower('%acanthoma%')\r\nor lower(d.extractedText) like lower('%fibroma%')\r\nor lower(d.extractedText) like lower('%teratoma%')\r\nor lower(d.extractedText) like lower('%glioma%')\r\nor lower(d.extractedText) like lower('%thymoma%')\r\n)\r\n\r\norder by r.mgiID|lec|Debbie Krupke|2017-09-11 14:16:29.791211||||
15|Lit Triage : Supplemental Data Needed|References where:\r\n. has J#\r\n. is not Discard\r\n. supplemental in:\r\n  'Db found supplement'\r\n  'Curator found supplement'\r\n|select r.jnumID\r\nfrom BIB_Citation_Cache r, BIB_Workflow_Data d\r\nwhere r.isDiscard = 0\r\nand r.jnumID is not null\r\nand r._Refs_key = d._Refs_key\r\nand d._Supplemental_key in (31576675, 34027000)\r\norder by r.jnumID|lec|Jacqueline Finger|2017-09-11 10:53:55.127596|2017-09-11 10:53:55.127596|||
